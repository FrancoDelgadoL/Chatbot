define(['jquery','Magento_Customer/js/customer-data'],function($,customerData){'use strict';return function(config){var $tooltip=$(config.tooltipSelector);var $button=$(config.buttonSelector);function showTooltipTemp(duration){$tooltip.addClass('active');$button.addClass('active');setTimeout(function(){$tooltip.removeClass('active');$button.removeClass('active');},duration);}
function initBehavior(){var customer=customerData.get('customer')();var isLoggedIn=!!customer.firstname;var orderCountData=customerData.get('order_count')();var orderCount=parseInt(orderCountData.count)||0;if(isLoggedIn&&orderCount>1){$button.show();if(config.enableHover){$tooltip.addClass('tooltip-hover-enabled');}
if(config.enableAuto){var path=window.location.pathname;if(path==='/'||path==='/home'){setTimeout(function(){showTooltipTemp(config.autoDuration||10000);},config.autoDelay||10000);}}}}
if(!customerData.get('customer')().firstname||!customerData.get('order_count')().count){customerData.reload(['customer','order_count'],true).done(initBehavior);}else{initBehavior();}};});